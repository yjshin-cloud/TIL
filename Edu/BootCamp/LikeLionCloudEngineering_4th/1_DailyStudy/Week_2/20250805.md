# Java Calculator & AI ì´ë¯¸ì§€ ìƒì„±ê¸° ì™„ë²½ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê³„ì‚°ê¸° ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ê³„ì‚°ê¸°-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [í•µì‹¬ Java ê°œë… ì„¤ëª…](#í•µì‹¬-java-ê°œë…-ì„¤ëª…)
4. [ê³„ì‚°ê¸° êµ¬í˜„ ì½”ë“œ](#ê³„ì‚°ê¸°-êµ¬í˜„-ì½”ë“œ)
5. [AI ì´ë¯¸ì§€ ìƒì„±ê¸°](#ai-ì´ë¯¸ì§€-ìƒì„±ê¸°)
6. [Stream API í™œìš©](#stream-api-í™œìš©)
7. [ì°¸ê³ ìë£Œ](#ì°¸ê³ ìë£Œ)

---

## í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **Java ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°**ì„ ë°°ìš°ê¸° ìœ„í•œ ì‹¤ìŠµìœ¼ë¡œ, ë‘ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤:

1. **ê³„ì‚°ê¸°**: ë‹¤ì–‘í•œ ìë£Œêµ¬ì¡°ë¡œ ê³„ì‚° ì´ë ¥ì„ ì €ì¥í•˜ëŠ” ê³„ì‚°ê¸°
2. **AI ì´ë¯¸ì§€ ìƒì„±ê¸°**: Google Gemini APIë¥¼ ì‚¬ìš©í•œ ì´ë¯¸ì§€ ìë™ ìƒì„± ë„êµ¬

### í•™ìŠµ ëª©í‘œ
- ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒí´ë˜ìŠ¤ í™œìš©
- ë‹¤í˜•ì„±(Polymorphism) ì´í•´
- ìë£Œêµ¬ì¡°(Array, List, Map) ë¹„êµ
- HTTP API í†µì‹ 
- Stream API í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°

---

## ê³„ì‚°ê¸° ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
classDiagram
    class ICalculator {
        <<interface>>
        +calculate(int, int, String) int
        +calculate(double, double, String) double
        +showHistory() void
    }
    
    class Calculator {
        <<abstract>>
        +calculate(int, int, String) int
        +calculate(double, double, String) double
    }
    
    class ArrayCalculator {
        -String[] historyArr
        -int head
        -boolean flag
        +ArrayCalculator()
        +ArrayCalculator(int size)
        +calculate(double, double, String) double
        +calculate(int, int, String) int
        +showHistory() void
    }
    
    class ListCalculator {
        -List~String~ historyList
        -boolean flag
        +ListCalculator()
        +calculate(double, double, String) double
        +calculate(int, int, String) int
        +showHistory() void
    }
    
    class MapCalculator {
        -Map~String,String~ historyMap
        -boolean flag
        +MapCalculator()
        +calculate(double, double, String) double
        +calculate(int, int, String) int
        +showHistory() void
    }
    
    ICalculator <|-- Calculator
    Calculator <|-- ArrayCalculator
    Calculator <|-- ListCalculator
    Calculator <|-- MapCalculator
```

### ì‹¤í–‰ íë¦„ë„

```mermaid
flowchart TD
    A[í”„ë¡œê·¸ë¨ ì‹œì‘] --> B[ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°]
    B --> C{ì…ë ¥ í˜•ì‹ ê²€ì¦}
    C -->|ì˜¬ë°”ë¦„| D[ìˆ«ìì™€ ì—°ì‚°ì ì¶”ì¶œ]
    C -->|ì˜ëª»ë¨| E[ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥]
    E --> B
    
    D --> F{ì‹¤ìˆ˜ í¬í•¨?}
    F -->|ì˜ˆ| G[double ê³„ì‚° ì‹¤í–‰]
    F -->|ì•„ë‹ˆì˜¤| H[int ê³„ì‚° ì‹¤í–‰]
    
    G --> I[ê³„ì‚° ê²°ê³¼ ì €ì¥]
    H --> I
    I --> J[ê²°ê³¼ ì¶œë ¥]
    J --> K[ì´ë ¥ í‘œì‹œ]
    K --> L[í”„ë¡œê·¸ë¨ ì¢…ë£Œ]
    
    style A fill:#e1f5fe
    style L fill:#f3e5f5
    style E fill:#ffebee
```

---

## í•µì‹¬ Java ê°œë… ì„¤ëª…

### 1. ì¸í„°í˜ì´ìŠ¤ (Interface)

```java
// ì¸í„°í˜ì´ìŠ¤: í´ë˜ìŠ¤ê°€ êµ¬í˜„í•´ì•¼ í•  ë©”ì„œë“œë“¤ì˜ ëª…ì„¸ì„œ
public interface ICalculator {
    // ì •ìˆ˜ ê³„ì‚°ì„ ìœ„í•œ ë©”ì„œë“œ (êµ¬í˜„ë¶€ ì—†ìŒ, ì¶”ìƒ ë©”ì„œë“œ)
    int calculate(int num1, int num2, String operator) throws Exception;
    
    // ì‹¤ìˆ˜ ê³„ì‚°ì„ ìœ„í•œ ë©”ì„œë“œ (ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© - ê°™ì€ ì´ë¦„, ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜)
    double calculate(double num1, double num2, String operator) throws Exception;
    
    // ê³„ì‚° ì´ë ¥ì„ ë³´ì—¬ì£¼ëŠ” ë©”ì„œë“œ
    void showHistory();
}
```

**ì¸í„°í˜ì´ìŠ¤ì˜ íŠ¹ì§•:**
- `abstract` í‚¤ì›Œë“œ ì—†ì´ë„ ëª¨ë“  ë©”ì„œë“œê°€ ì¶”ìƒ ë©”ì„œë“œ
- í´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ `implements`ë¡œ êµ¬í˜„
- ë‹¤ì¤‘ êµ¬í˜„ ê°€ëŠ¥ (í•œ í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ê°€ëŠ¥)

### 2. ì¶”ìƒí´ë˜ìŠ¤ (Abstract Class)

```java
// ì¶”ìƒí´ë˜ìŠ¤: ì¼ë¶€ êµ¬í˜„ì„ ì œê³µí•˜ì§€ë§Œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë¶ˆê°€
public abstract class Calculator implements ICalculator {
    
    @Override  // ë¶€ëª¨(ì¸í„°í˜ì´ìŠ¤)ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•œë‹¤ëŠ” í‘œì‹œ
    public int calculate(int num1, int num2, String operator) throws Exception {
        // ìºìŠ¤íŒ…: intë¥¼ doubleë¡œ ë³€í™˜ í›„ ê³„ì‚°, ê²°ê³¼ë¥¼ ë‹¤ì‹œ intë¡œ ë³€í™˜
        return (int) calculate((double) num1, (double) num2, operator);
    }

    @Override
    public double calculate(double num1, double num2, String operator) throws Exception {
        // switchë¬¸: ì—°ì‚°ìì— ë”°ë¼ ë‹¤ë¥¸ ê³„ì‚° ìˆ˜í–‰
        switch (operator) {
            case "+":
                return num1 + num2;  // returní•˜ë©´ break ë¶ˆí•„ìš”
            case "-":
                return num1 - num2;
            case "*":
                return num1 * num2;
            case "/":
                return num1 / num2;
            default:
                // ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—°ì‚°ìì¼ ë•Œ ì˜ˆì™¸ ë°œìƒ
                throw new Exception("ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—°ì‚°ìì…ë‹ˆë‹¤!");
        }
    }
    
    // showHistory()ëŠ” ê° ìì‹ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í•¨ (ì¶”ìƒ ë©”ì„œë“œ)
}
```

**ì¶”ìƒí´ë˜ìŠ¤ vs ì¸í„°í˜ì´ìŠ¤:**
- ì¶”ìƒí´ë˜ìŠ¤: ì¼ë¶€ êµ¬í˜„ ì œê³µ ê°€ëŠ¥, ë‹¨ì¼ ìƒì†
- ì¸í„°í˜ì´ìŠ¤: êµ¬í˜„ ì—†ìŒ(ëª…ì„¸ë§Œ), ë‹¤ì¤‘ êµ¬í˜„ ê°€ëŠ¥

### 3. ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© (Method Overloading)

```java
// ê°™ì€ ë©”ì„œë“œ ì´ë¦„, ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ íƒ€ì…
public int calculate(int num1, int num2, String operator)     // ì •ìˆ˜ìš©
public double calculate(double num1, double num2, String operator)  // ì‹¤ìˆ˜ìš©
```

**ì˜¤ë²„ë¡œë”© ì¡°ê±´:**
- ë©”ì„œë“œ ì´ë¦„ ë™ì¼
- ë§¤ê°œë³€ìˆ˜ íƒ€ì…, ê°œìˆ˜, ìˆœì„œ ì¤‘ í•˜ë‚˜ë¼ë„ ë‹¬ë¼ì•¼ í•¨
- ë°˜í™˜ íƒ€ì…ë§Œ ë‹¤ë¥¸ ê²ƒì€ ì˜¤ë²„ë¡œë”© ë¶ˆê°€

---

## ê³„ì‚°ê¸° êµ¬í˜„ ì½”ë“œ

### 1. ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜

```java
import calculator.ArrayCalculator;  // íŒ¨í‚¤ì§€ì—ì„œ í´ë˜ìŠ¤ ê°€ì ¸ì˜¤ê¸°
import java.util.Scanner;           // ì‚¬ìš©ì ì…ë ¥ì„ ìœ„í•œ í´ë˜ìŠ¤

public class Application {
    // main ë©”ì„œë“œ: í”„ë¡œê·¸ë¨ì˜ ì§„ì…ì  (ì‹œì‘ì )
    public static void main(String[] args) {
        // public: ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥
        // static: ê°ì²´ ìƒì„± ì—†ì´ í˜¸ì¶œ ê°€ëŠ¥ (ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ë¡œë”©)
        // void: ë°˜í™˜ê°’ ì—†ìŒ (ê²°ê³¼ë¥¼ ëŒë ¤ì£¼ì§€ ì•ŠìŒ)
        // String[] args: ëª…ë ¹í–‰ ì¸ìˆ˜ë¥¼ ë°›ëŠ” ë°°ì—´
        
        System.out.println("ê³„ì‚°ê¸°ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤");
        
        // ë‹¤í˜•ì„±: Calculator íƒ€ì…ìœ¼ë¡œ ArrayCalculator ê°ì²´ ì°¸ì¡°
        // ì—…ìºìŠ¤íŒ…: ìì‹ í´ë˜ìŠ¤ â†’ ë¶€ëª¨ í´ë˜ìŠ¤ íƒ€ì…ìœ¼ë¡œ ë³€í™˜
        Calculator cal = new ArrayCalculator();
        
        // Scanner: í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ê¸° ìœ„í•œ ê°ì²´
        // System.in: í‘œì¤€ ì…ë ¥(í‚¤ë³´ë“œ)ì„ ì˜ë¯¸
        Scanner sc = new Scanner(System.in);
        
        System.out.print("ê³„ì‚°í•  ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš” ex) 1 + 1 : ");
        String input = sc.nextLine();  // í•œ ì¤„ ì „ì²´ ì…ë ¥ë°›ê¸°
        
        try {  // ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì½”ë“œ ë¸”ë¡
            // split(" "): ê³µë°±ìœ¼ë¡œ ë¬¸ìì—´ì„ ë‚˜ëˆ„ì–´ ë°°ì—´ë¡œ ë³€í™˜
            // "1 + 1" â†’ ["1", "+", "1"]
            String[] inputArr = input.split(" ");
            
            if (inputArr.length != 3) {  // ë°°ì—´ ê¸¸ì´ê°€ 3ì´ ì•„ë‹ˆë©´
                throw new Exception("ì˜ëª»ëœ ì…ë ¥");  // ì˜ˆì™¸ ë°œìƒì‹œí‚¤ê¸°
            }
            
            // ë°°ì—´ ì¸ë±ì‹±: 0ë¶€í„° ì‹œì‘
            String numStr1 = inputArr[0];  // ì²« ë²ˆì§¸ ìˆ«ì ë¬¸ìì—´
            String numStr2 = inputArr[2];  // ë‘ ë²ˆì§¸ ìˆ«ì ë¬¸ìì—´  
            String operator = inputArr[1]; // ì—°ì‚°ì
            
            // contains("."): ë¬¸ìì—´ì— ì†Œìˆ˜ì ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
            if (numStr1.contains(".") || numStr2.contains(".")) {
                // ë‘˜ ì¤‘ í•˜ë‚˜ë¼ë„ ì‹¤ìˆ˜ë©´ doubleë¡œ ê³„ì‚°
                
                // parseDouble: ë¬¸ìì—´ì„ doubleë¡œ ë³€í™˜
                double num1 = Double.parseDouble(numStr1);
                double num2 = Double.parseDouble(numStr2);
                
                double result = cal.calculate(num1, num2, operator);
                System.out.println(result);
            } else {
                // ë‘˜ ë‹¤ ì •ìˆ˜ë©´ intë¡œ ê³„ì‚°
                
                // parseInt: ë¬¸ìì—´ì„ intë¡œ ë³€í™˜
                // IntegerëŠ” intì˜ Wrapper í´ë˜ìŠ¤ (ê°ì²´ ë²„ì „)
                int num1 = Integer.parseInt(numStr1);
                int num2 = Integer.parseInt(numStr2);
                
                int result = cal.calculate(num1, num2, operator);
                System.out.println(result);
            }
            
        } catch (Exception e) {  // ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ë¸”ë¡
            // System.err: í‘œì¤€ ì—ëŸ¬ ì¶œë ¥ (ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œë¨)
            System.err.println(e.getMessage());  // ì—ëŸ¬ ë©”ì‹œì§€ë§Œ ì¶œë ¥
        }
    }
}
```

### 2. ë°°ì—´ ê¸°ë°˜ ê³„ì‚°ê¸°

```java
package calculator;  // ì´ í´ë˜ìŠ¤ê°€ ì†í•œ íŒ¨í‚¤ì§€ ì„ ì–¸

public class ArrayCalculator extends Calculator {
    // final: í•œ ë²ˆ ì´ˆê¸°í™”ë˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ìƒìˆ˜
    // private: ì´ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
    final private String[] historyArr;  // ê³„ì‚° ì´ë ¥ì„ ì €ì¥í•  ë°°ì—´
    private int head = 0;               // í˜„ì¬ ì €ì¥ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°
    private boolean flag = false;       // ì¤‘ë³µ ì €ì¥ ë°©ì§€ìš© í”Œë˜ê·¸
    
    // ê¸°ë³¸ ìƒì„±ì: ë§¤ê°œë³€ìˆ˜ ì—†ì´ ê°ì²´ ìƒì„±
    public ArrayCalculator() {
        this.historyArr = new String[20];  // í¬ê¸° 20ì¸ ë°°ì—´ ìƒì„±
        // ë°°ì—´ ì´ˆê¸°ê°’ì€ ëª¨ë‘ null
    }
    
    // ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ìƒì„±ì: ë°°ì—´ í¬ê¸°ë¥¼ ì‚¬ìš©ìê°€ ì§€ì •
    public ArrayCalculator(int size) {
        this.historyArr = new String[size];  // ì‚¬ìš©ì ì§€ì • í¬ê¸°ë¡œ ë°°ì—´ ìƒì„±
    }
    
    @Override  // ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜
    public double calculate(double num1, double num2, String operator) throws Exception {
        System.out.println("ArrayCalculator Double");  // ë””ë²„ê¹…ìš© ì¶œë ¥
        
        // super: ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” í‚¤ì›Œë“œ
        // ë¶€ëª¨ì˜ calculate ë©”ì„œë“œ í˜¸ì¶œí•˜ì—¬ ì‹¤ì œ ê³„ì‚° ìˆ˜í–‰
        double result = super.calculate(num1, num2, operator);
        
        if (!flag) {  // flagê°€ falseì¼ ë•Œë§Œ ì €ì¥ (ì¤‘ë³µ ë°©ì§€)
            // ë°°ì—´ ì¸ë±ìŠ¤ ì´ˆê³¼ ì²´í¬
            if (historyArr.length <= head) {
                throw new Exception("ì´ë ¥ ë°°ì—´ ê¸¸ì´ë³´ë‹¤ ì§€ê¸ˆê¹Œì§€ì˜ íˆìŠ¤í† ë¦¬ê°€ ê¹ë‹ˆë‹¤");
            }
            
            // formatted(): ë¬¸ìì—´ í…œí”Œë¦¿ì— ê°’ì„ ì‚½ì…
            // %f: ì‹¤ìˆ˜ í‘œì‹œì, %s: ë¬¸ìì—´ í‘œì‹œì
            historyArr[head++] = "%f %s %f = %f".formatted(num1, operator, num2, result);
            // head++: í˜„ì¬ head ê°’ ì‚¬ìš© í›„ 1 ì¦ê°€ (í›„ìœ„ ì¦ê° ì—°ì‚°ì)
        }
        
        return result;
    }
    
    @Override
    public int calculate(int num1, int num2, String operator) throws Exception {
        System.out.println("ArrayCalculator INT");
        
        flag = true;  // í”Œë˜ê·¸ ì¼œê¸° (double ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì¤‘ë³µ ì €ì¥ ë°©ì§€)
        
        // int ê³„ì‚°ì€ ë‚´ë¶€ì ìœ¼ë¡œ double ê³„ì‚°ì„ í˜¸ì¶œ
        int result = super.calculate(num1, num2, operator);
        
        if (historyArr.length <= head) {
            throw new Exception("ì´ë ¥ ë°°ì—´ ê¸¸ì´ë³´ë‹¤ ì§€ê¸ˆê¹Œì§€ì˜ íˆìŠ¤í† ë¦¬ê°€ ê¹ë‹ˆë‹¤");
        }
        
        // %d: ì •ìˆ˜ í‘œì‹œì
        historyArr[head++] = "%d %s %d = %d".formatted(num1, operator, num2, result);
        flag = false;  // í”Œë˜ê·¸ ë„ê¸°
        
        return result;
    }
    
    @Override
    public void showHistory() {
        System.out.println("[ğŸ¥¹ ì§€ê¸ˆê¹Œì§€ì˜ ê³„ì‚° ê²°ê³¼]");
        
        // í–¥ìƒëœ forë¬¸ (for-each): ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ìˆœíšŒ
        for (String s : historyArr) {
            if (s == null) {  // nullì´ë©´ ë” ì´ìƒ ì €ì¥ëœ ë°ì´í„°ê°€ ì—†ìŒ
                return;  // ë©”ì„œë“œ ì¢…ë£Œ (breakì™€ ë™ì¼í•œ íš¨ê³¼)
            }
            System.out.println(s);
        }
    }
}
```

### 3. ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê³„ì‚°ê¸°

```java
package calculator;

import java.util.ArrayList;  // ë™ì  ë°°ì—´ í´ë˜ìŠ¤
import java.util.List;       // ë¦¬ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤

public class ListCalculator extends Calculator {
    // List: ì¸í„°í˜ì´ìŠ¤, ArrayList: êµ¬í˜„ í´ë˜ìŠ¤
    // ì œë„¤ë¦­ <String>: ì´ ë¦¬ìŠ¤íŠ¸ëŠ” String íƒ€ì…ë§Œ ì €ì¥ ê°€ëŠ¥
    final private List<String> historyList;
    private boolean flag = false;
    
    public ListCalculator() {
        // ë‹¤ì´ì•„ëª¬ë“œ ì—°ì‚°ì <> : íƒ€ì… ì¶”ë¡  (ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ String ì¸ì‹)
        this.historyList = new ArrayList<>();  // í¬ê¸° ì œí•œ ì—†ëŠ” ë™ì  ë°°ì—´
    }
    
    @Override
    public double calculate(double num1, double num2, String operator) throws Exception {
        System.out.println("ListCalculator Double");
        double result = super.calculate(num1, num2, operator);
        
        if (!flag) {
            String history = "%f %s %f = %f".formatted(num1, operator, num2, result);
            // add(): ë¦¬ìŠ¤íŠ¸ ëì— ìš”ì†Œ ì¶”ê°€ (í¬ê¸° ìë™ ì¦ê°€)
            historyList.add(history);
        }
        
        return result;
    }
    
    @Override
    public int calculate(int num1, int num2, String operator) throws Exception {
        System.out.println("ListCalculator INT");
        flag = true;
        int result = super.calculate(num1, num2, operator);
        
        historyList.add("%d %s %d = %d".formatted(num1, operator, num2, result));
        flag = false;
        
        return result;
    }
    
    @Override
    public void showHistory() {
        System.out.println("[ğŸ¥¹ ì§€ê¸ˆê¹Œì§€ì˜ ê³„ì‚° ê²°ê³¼]");
        
        // ë¦¬ìŠ¤íŠ¸ëŠ” null ì²´í¬ ì—†ì´ ìˆœíšŒ ê°€ëŠ¥ (ì‹¤ì œ ë°ì´í„°ë§Œ ì €ì¥ë¨)
        for (String s : historyList) {
            System.out.println(s);
        }
        
        // ì „í†µì ì¸ forë¬¸ìœ¼ë¡œë„ ê°€ëŠ¥:
        // for (int i = 0; i < historyList.size(); i++) {
        //     System.out.println(historyList.get(i));  // get(): ì¸ë±ìŠ¤ë¡œ ìš”ì†Œ ì¡°íšŒ
        // }
    }
}
```

### 4. ë§µ ê¸°ë°˜ ê³„ì‚°ê¸° (ìºì‹œ ê¸°ëŠ¥ í¬í•¨)

```java
package calculator;

import java.util.HashMap;  // í•´ì‹œ ë§µ êµ¬í˜„ì²´
import java.util.Map;      // ë§µ ì¸í„°í˜ì´ìŠ¤

public class MapCalculator extends Calculator {
    // Map<Keyíƒ€ì…, Valueíƒ€ì…>: í‚¤-ê°’ ìŒìœ¼ë¡œ ë°ì´í„° ì €ì¥
    final private Map<String, String> historyMap;
    private boolean flag = false;
    
    public MapCalculator() {
        this.historyMap = new HashMap<>();  // í•´ì‹œ í…Œì´ë¸” ê¸°ë°˜ ë§µ
        // TreeMapë„ ì‚¬ìš© ê°€ëŠ¥ (ì •ë ¬ëœ ìˆœì„œë¡œ ì €ì¥)
    }
    
    @Override
    public double calculate(double num1, double num2, String operator) throws Exception {
        // ê³„ì‚°ì‹ì„ í‚¤ë¡œ ì‚¬ìš© (ìºì‹œ ê²€ìƒ‰ìš©)
        String key = "%f %s %f".formatted(num1, operator, num2);
        
        // containsKey(): ë§µì— í•´ë‹¹ í‚¤ê°€ ìˆëŠ”ì§€ í™•ì¸
        if (historyMap.containsKey(key)) {
            System.out.println("ì´ë¯¸ ê³„ì‚°í•œ ê²°ê³¼ê°€ ìˆìŠµë‹ˆë‹¤");
            // get(): í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ ë°˜í™˜
            // parseDouble(): ë¬¸ìì—´ì„ doubleë¡œ ë³€í™˜
            return Double.parseDouble(historyMap.get(key));
        }
        
        double result = super.calculate(num1, num2, operator);
        
        if (!flag) {
            String value = "%f".formatted(result);
            // put(): í‚¤-ê°’ ìŒ ì €ì¥
            historyMap.put(key, value);
        }
        
        return result;
    }
    
    @Override
    public int calculate(int num1, int num2, String operator) throws Exception {
        String key = "%d %s %d".formatted(num1, operator, num2);
        
        if (historyMap.containsKey(key)) {
            System.out.println("ì´ë¯¸ ê³„ì‚°í•œ ê²°ê³¼ê°€ ìˆìŠµë‹ˆë‹¤");
            return Integer.parseInt(historyMap.get(key));
        }
        
        flag = true;
        int result = super.calculate(num1, num2, operator);
        
        String value = "%d".formatted(result);
        historyMap.put(key, value);
        flag = false;
        
        return result;
    }
    
    @Override
    public void showHistory() {
        System.out.println("[ğŸ¥¹ ì§€ê¸ˆê¹Œì§€ì˜ ê³„ì‚° ê²°ê³¼]");
        
        // entrySet(): ë§µì˜ ëª¨ë“  í‚¤-ê°’ ìŒì„ Setìœ¼ë¡œ ë°˜í™˜
        // Map.Entry: í‚¤-ê°’ ìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë‚´ë¶€ ì¸í„°í˜ì´ìŠ¤
        for (Map.Entry<String, String> entry : historyMap.entrySet()) {
            // getKey(): í‚¤ ë°˜í™˜, getValue(): ê°’ ë°˜í™˜
            System.out.println(entry.getKey() + " = " + entry.getValue());
        }
    }
}
```

---

## AI ì´ë¯¸ì§€ ìƒì„±ê¸°

### ì‹œìŠ¤í…œ êµ¬ì¡°ë„

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant App as ImageGen ì•±
    participant Gemini as Gemini API
    participant File as íŒŒì¼ì‹œìŠ¤í…œ
    
    User->>App: ì¢‹ì•„í•˜ëŠ” ë™ë¬¼ ì…ë ¥
    App->>App: ì…ë ¥ ê²€ì¦ ë° ì €ì¥
    
    loop ê° ë™ë¬¼ì— ëŒ€í•´
        App->>Gemini: í”„ë¡¬í”„íŠ¸ ìƒì„± ìš”ì²­
        Gemini->>App: ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ë°˜í™˜
        App->>Gemini: ì´ë¯¸ì§€ ìƒì„± ìš”ì²­
        Gemini->>App: Base64 ì´ë¯¸ì§€ ë°˜í™˜
        App->>File: PNG íŒŒì¼ë¡œ ì €ì¥
    end
    
    App->>User: ìƒì„± ì™„ë£Œ ì•Œë¦¼
```

### 1. ê¸°ë³¸ ì´ë¯¸ì§€ ìƒì„±ê¸° í´ë˜ìŠ¤

```java
package step2;

import java.net.URI;                    // ì›¹ ì£¼ì†Œë¥¼ ë‹¤ë£¨ëŠ” í´ë˜ìŠ¤
import java.net.http.HttpClient;        // HTTP í†µì‹ ì„ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸
import java.net.http.HttpRequest;       // HTTP ìš”ì²­ì„ ë§Œë“œëŠ” í´ë˜ìŠ¤
import java.net.http.HttpResponse;      // HTTP ì‘ë‹µì„ ë°›ëŠ” í´ë˜ìŠ¤
import java.util.ArrayList;             // ë™ì  ë°°ì—´
import java.util.List;                  // ë¦¬ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤
import java.util.Scanner;               // ì‚¬ìš©ì ì…ë ¥
import java.util.Base64;                // Base64 ì¸ì½”ë”©/ë””ì½”ë”©
import java.nio.file.Files;             // íŒŒì¼ ì¡°ì‘ ìœ í‹¸ë¦¬í‹°
import java.nio.file.Path;              // íŒŒì¼ ê²½ë¡œ í´ë˜ìŠ¤
import java.nio.file.Paths;             // íŒŒì¼ ê²½ë¡œ ìƒì„± ìœ í‹¸ë¦¬í‹°

public class ImageGen {
    // final í•„ë“œ: ê°ì²´ ìƒì„± í›„ ë³€ê²½ ë¶ˆê°€
    final private List<String> favoriteList = new ArrayList<>();  // ì¢‹ì•„í•˜ëŠ” ë™ë¬¼ ë¦¬ìŠ¤íŠ¸
    final private Scanner scanner = new Scanner(System.in);        // ì…ë ¥ ìŠ¤ìºë„ˆ
    final private int size;                                        // ì…ë ¥ë°›ì„ ë™ë¬¼ ê°œìˆ˜
    final private HttpClient httpClient = HttpClient.newHttpClient(); // HTTP í´ë¼ì´ì–¸íŠ¸
    final private String GEMINI_API_KEY = System.getenv("GEMINI_API_KEY"); // í™˜ê²½ë³€ìˆ˜ì—ì„œ API í‚¤ ê°€ì ¸ì˜¤ê¸°
    
    private final List<String> imagePromptList = new ArrayList<>(); // ìƒì„±ëœ ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ë¦¬ìŠ¤íŠ¸
    
    // ìƒì„±ì: ì…ë ¥ë°›ì„ ë™ë¬¼ ê°œìˆ˜ ì„¤ì •
    public ImageGen(int size) {
        this.size = size;
    }
    
    // ë©”ì¸ ë©”ì„œë“œ: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ìˆœì„œ
    public static void main(String[] args) {
        ImageGen gen = new ImageGen(2);  // 2ê°œ ë™ë¬¼ ì…ë ¥ë°›ì„ ê°ì²´ ìƒì„±
        gen.inputData();                 // ë°ì´í„° ì…ë ¥
        gen.makeImagePrompt();           // ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„±
        gen.generateImage();             // ì´ë¯¸ì§€ ìƒì„±
    }
    
    // ì‚¬ìš©ìë¡œë¶€í„° ì¢‹ì•„í•˜ëŠ” ë™ë¬¼ ì…ë ¥ë°›ê¸°
    void inputData() {
        for (int i = 0; i < size; i++) {
            System.out.print("ì¢‹ì•„í•˜ëŠ” ë™ë¬¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš” : ");
            String input = scanner.nextLine();
            
            // trim(): ë¬¸ìì—´ ì•ë’¤ ê³µë°±/ì¤„ë°”ê¿ˆ ì œê±°
            // isEmpty(): ë¹ˆ ë¬¸ìì—´ì¸ì§€ í™•ì¸
            if (input.trim().isEmpty()) {
                System.out.println("ì œëŒ€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                i--;        // ì¹´ìš´í„° ê°ì†Œ (ë‹¤ì‹œ ì…ë ¥ë°›ê¸°)
                continue;   // ë°˜ë³µë¬¸ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
            }
            
            favoriteList.add(input);  // ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
        }
        System.out.println(favoriteList);  // ì…ë ¥ëœ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
    }
    
    // HTTP API í˜¸ì¶œì„ ìœ„í•œ ê³µí†µ ë©”ì„œë“œ
    private String callAPI(String url, String body) {
        // í™˜ê²½ë³€ìˆ˜ í™•ì¸
        if (GEMINI_API_KEY == null) {
            throw new RuntimeException("GEMINI_API_KEYê°€ ì—†ìŠµë‹ˆë‹¤!");
        }
        
        // HTTP ìš”ì²­ ë¹Œë” íŒ¨í„´ìœ¼ë¡œ ìƒì„±
        HttpRequest httpRequest = HttpRequest.newBuilder()
                .uri(URI.create(url))                    // ìš”ì²­ URL ì„¤ì •
                .headers("Content-Type", "application/json",  // í—¤ë” ì„¤ì •
                        "X-goog-api-key", GEMINI_API_KEY)     // API í‚¤ í—¤ë”
                .POST(                                   // POST ë°©ì‹ìœ¼ë¡œ ìš”ì²­
                    HttpRequest.BodyPublishers.ofString(body)  // ìš”ì²­ ë³¸ë¬¸ ì„¤ì •
                )
                .build();                                // ìš”ì²­ ê°ì²´ ì™„ì„±
        
        try {
            // HTTP ìš”ì²­ ì „ì†¡ ë° ì‘ë‹µ ë°›ê¸°
            HttpResponse<String> httpResponse = httpClient.send(
                httpRequest,                                    // ìš”ì²­ ê°ì²´
                HttpResponse.BodyHandlers.ofString()           // ì‘ë‹µì„ Stringìœ¼ë¡œ ë°›ê¸°
            );
            return httpResponse.body();  // ì‘ë‹µ ë³¸ë¬¸ ë°˜í™˜
        } catch (Exception e) {
            System.err.println(e.getMessage());  // ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥
            throw new RuntimeException(e);       // ëŸ°íƒ€ì„ ì˜ˆì™¸ë¡œ ë³€í™˜
        }
    }
    
    // AIë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸ ë§Œë“¤ê¸°
    void makeImagePrompt() {
        // Gemini API ì—”ë“œí¬ì¸íŠ¸
        String url = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";
        
        // ì…ë ¥ë°›ì€ ê° ë™ë¬¼ì— ëŒ€í•´ í”„ë¡¬í”„íŠ¸ ìƒì„±
        for (String animal : favoriteList) {
            // JSON í˜•íƒœì˜ ìš”ì²­ ë³¸ë¬¸ (í…ìŠ¤íŠ¸ ë¸”ë¡ ì‚¬ìš©)
            String result = callAPI(url, """
                {
                    "contents": [
                      {
                        "parts": [
                          {
                            "text": "%s(ì„)ë¥¼ ì´ë¯¸ì§€ë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ 200ì ì´ë‚´ì˜ ìƒì„¸í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•´ì¤˜. ê²°ê³¼ë§Œ ì‘ì„±í•´ì¤˜."
                          }
                        ]
                      }
                    ]
                  }
                """.formatted(animal));  // %sì— ë™ë¬¼ ì´ë¦„ ì‚½ì…
            
            // JSON ì‘ë‹µì—ì„œ í…ìŠ¤íŠ¸ ë¶€ë¶„ë§Œ ì¶”ì¶œ
            String prompt = result
                    .split("\"text\": \"")[1]  // "text": " ë’¤ì˜ ë‚´ìš©
                    .split("}")[0]              // ì²« ë²ˆì§¸ } ì•ê¹Œì§€
                    .replace("\\n", "")         // ì¤„ë°”ê¿ˆ ë¬¸ì ì œê±°
                    .replace("\"", "")          // ë”°ì˜´í‘œ ì œê±°
                    .trim();                    // ì•ë’¤ ê³µë°± ì œê±°
            
            imagePromptList.add(prompt);  // í”„ë¡¬í”„íŠ¸ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
        }
        
        // ìƒì„±ëœ í”„ë¡¬í”„íŠ¸ë“¤ ì¶œë ¥
        for (String s : imagePromptList) {
            System.out.println(s);
        }
    }
    
    // ì‹¤ì œ ì´ë¯¸ì§€ ìƒì„±í•˜ê¸°
    void generateImage() {
        // ì´ë¯¸ì§€ ìƒì„± ì „ìš© ëª¨ë¸
        String model = "gemini-2.0-flash-preview-image-generation";
        String url = "https://generativelanguage.googleapis.com/v1beta/models/%s:generateContent"
                     .formatted(model);
        
        // ê° í”„ë¡¬í”„íŠ¸ì— ëŒ€í•´ ì´ë¯¸ì§€ ìƒì„±
        for (String prompt : imagePromptList) {
            String result = callAPI(url, """
                {
                    "contents": [
                      {
                        "role": "user",
                        "parts": [
                          {
                            "text": "%s"
                          }
                        ]
                      }
                    ],
                    "generationConfig": {
                      "responseModalities": ["IMAGE", "TEXT"]
                    }
                }
                """.formatted(prompt));
            
            // JSON ì‘ë‹µì—ì„œ Base64 ì´ë¯¸ì§€ ë°ì´í„° ì¶”ì¶œ
            String image64 = result
                    .split("\"data\": \"")[1]   // Base64 ë°ì´í„° ì‹œì‘ì  ì°¾ê¸°
                    .split("}")[0]               // ì²« ë²ˆì§¸ } ì•ê¹Œì§€
                    .replace("\\n", "")          // ì¤„ë°”ê¿ˆ ë¬¸ì ì œê±°
                    .replace("\"", "")           // ë”°ì˜´í‘œ ì œê±°
                    .trim();                     // ì•ë’¤ ê³µë°± ì œê±°
            
            // Base64 ë””ì½”ë”©í•˜ì—¬ ë°”ì´íŠ¸ ë°°ì—´ë¡œ ë³€í™˜
            byte[] imageBytes = Base64.getDecoder().decode(image64);
            
            // í˜„ì¬ ì‹œê°„ì„ íŒŒì¼ëª…ìœ¼ë¡œ ì‚¬ìš© (ì¤‘ë³µ ë°©ì§€)
            String outputPath = "%s.png".formatted(System.currentTimeMillis());
            Path filePath = Paths.get(outputPath);  // íŒŒì¼ ê²½ë¡œ ê°ì²´ ìƒì„±
            
            try {
                // ë°”ì´íŠ¸ ë°°ì—´ì„ PNG íŒŒì¼ë¡œ ì €ì¥
                Files.write(filePath, imageBytes);
                System.out.println("ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: " + outputPath);
            } catch (Exception e) {
                System.err.println("íŒŒì¼ ì €ì¥ ì‹¤íŒ¨: " + e.getMessage());
            }
        }
    }
}
```

---

## Stream API í™œìš©

### Stream API ê°œë…

```mermaid
flowchart LR
    A[ì›ë³¸ ë°ì´í„°] --> B[Stream ìƒì„±]
    B --> C[ì¤‘ê°„ ì—°ì‚°ë“¤]
    C --> D[ìµœì¢… ì—°ì‚°]
    D --> E[ê²°ê³¼]
    
    C --> C1[map: ë³€í™˜]
    C --> C2[filter: í•„í„°ë§]
    C --> C3[reduce: ì§‘ê³„]
    
    style A fill:#e3f2fd
    style E fill:#f3e5f5
    style C fill:#fff3e0
```

### 1. ê¸°ë³¸ List ì¡°ì‘

```java
package step1;

import java.util.*;  // java.util íŒ¨í‚¤ì§€ì˜ ëª¨ë“  í´ë˜ìŠ¤ ê°€ì ¸ì˜¤ê¸° (*)

public class Solution01 {
    public static void main(String[] args) {
        // List<íƒ€ì…>: ì œë„¤ë¦­ì„ ì‚¬ìš©í•œ íƒ€ì… ì•ˆì „ì„± ë³´ì¥
        List<String> stringList = new ArrayList<>();
        
        // ArrayListì˜ íŠ¹ì§•:
        // - Arrayì²˜ëŸ¼ ë‚´ë¶€ì— ìˆœì„œê°€ ìˆê³ , ì¸ë±ìŠ¤ê°€ ë¶€ì—¬ë¨
        // - íƒ€ì…ì´ ëª¨ë‘ ë™ì¼í•˜ê³ , ê¸¸ì´ ì œí•œì´ ëª…ì‹œì ìœ¼ë¡œ ì—†ì–´ ìë™ìœ¼ë¡œ ëŠ˜ì–´ë‚¨
        
        Scanner scanner = new Scanner(System.in);
        while (true) {  // ë¬´í•œ ë£¨í”„
            System.out.print("ì…ë ¥í•´ì£¼ì„¸ìš” : ");
            String input = scanner.nextLine();  // í•œ ì¤„ ì…ë ¥ë°›ê¸°
            
            if (input.equals("ì¢…ë£Œ")) {  // ë¬¸ìì—´ ë¹„êµëŠ” equals() ì‚¬ìš©
                break;  // ë£¨í”„ íƒˆì¶œ
            }
            
            stringList.add(input);  // ë¦¬ìŠ¤íŠ¸ ëì— ìš”ì†Œ ì¶”ê°€
        }
        
        System.out.println("ì…ë ¥ëœ ë°ì´í„°: " + stringList);
    }
}
```

### 2. ëœë¤ ë°ì´í„° ìƒì„± ë° ë³€í™˜

```java
package step1;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class Solution02 {
    public static void main(String[] args) {
        List<Integer> numberList = new ArrayList<>();
        
        // Random í´ë˜ìŠ¤: ë‚œìˆ˜ ìƒì„±ì„ ìœ„í•œ í´ë˜ìŠ¤
        Random rd = new Random();
        
        // 10~20ê°œ ì‚¬ì´ì˜ ëœë¤í•œ ê°œìˆ˜ë§Œí¼ ë°˜ë³µ
        for (int i = 0; i < rd.nextInt(11) + 10; i++) {
            // nextInt(11): 0~10 ì‚¬ì´ ìˆ«ì + 10 = 10~20
            // nextInt(101): 0~100 ì‚¬ì´ ëœë¤ ìˆ«ì
            numberList.add(rd.nextInt(101));
        }
        
        System.out.println("ì›ë³¸ ë¦¬ìŠ¤íŠ¸: " + numberList);
        
        // ë°©ë²• 1: ê¸°ì¡´ ë°©ì‹ - ì›ë³¸ì„ ì§ì ‘ ìˆ˜ì • (Side Effect ë°œìƒ)
        for (int i = 0; i < numberList.size(); i++) {
            // set(index, value): í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê°’ì„ ë³€ê²½
            // get(index): í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê°’ì„ ê°€ì ¸ì˜¤ê¸°
            numberList.set(i, numberList.get(i) * 10);
        }
        System.out.println("10ë°° í›„ (ì›ë³¸ ìˆ˜ì •): " + numberList);
        
        // ë°©ë²• 2: ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ìƒì„± - ì›ë³¸ ë³´ì¡´
        List<Integer> numberList2 = new ArrayList<>();
        for (int v : numberList) {  // í–¥ìƒëœ forë¬¸ (for-each)
            // vëŠ” intì´ì§€ë§Œ ArrayList<Integer>ì— ìë™ìœ¼ë¡œ Boxingë¨
            // Boxing: ê¸°ë³¸ íƒ€ì… â†’ Wrapper í´ë˜ìŠ¤ë¡œ ìë™ ë³€í™˜
            // Unboxing: Wrapper í´ë˜ìŠ¤ â†’ ê¸°ë³¸ íƒ€ì…ìœ¼ë¡œ ìë™ ë³€í™˜
            numberList2.add(v * 10);
        }
        System.out.println("ìƒˆ ë¦¬ìŠ¤íŠ¸ (ì›ë³¸ ë³´ì¡´): " + numberList2);
        System.out.println("ì›ë³¸ í™•ì¸: " + numberList);
        
        // ë°©ë²• 3: Stream API - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë°©ì‹
        // ì‚¬ìƒ: mapping (ë°ì´í„°ë¥¼ í•˜ë‚˜í•˜ë‚˜ ë³€í™˜ì²˜ë¦¬)
        List<Integer> numberList3 = numberList
                .stream()                           // ìŠ¤íŠ¸ë¦¼ ìƒì„±
                .map(Solution02::multiplyTen)       // ê° ìš”ì†Œì— í•¨ìˆ˜ ì ìš©
                .toList();                          // ê²°ê³¼ë¥¼ ìƒˆ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
        
        // ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤ (::): x -> multiplyTen(x)ì™€ ë™ì¼í•œ ì˜ë¯¸
        System.out.println("Stream API ê²°ê³¼: " + numberList3);
    }
    
    // static ë©”ì„œë“œ: ê°ì²´ ìƒì„± ì—†ì´ í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥
    static int multiplyTen(int x) {
        return x * 10;
    }
}
```

### 3. Streamì˜ reduce ì—°ì‚°

```java
package step1;

import java.util.List;

public class Solution06 {
    public static void main(String[] args) {
        // List.of(): ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸ ìƒì„± (ìˆ˜ì • ë¶ˆê°€)
        List<Integer> numbers = List.of(1, 5, 4, 3, 7);
        
        // reduce: ì—¬ëŸ¬ ê°œì˜ ê°’ì„ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ì••ì¶•
        // map: ëª¨ë“  ìš”ì†Œë¥¼ ë³€í™˜ (a -> a', b -> b'...)
        // reduce: ëˆ„ì  ê³„ì‚° (cur: í˜„ì¬ê°’, acc: ëˆ„ì ê°’)
        
        // ì „í†µì ì¸ ë°©ì‹ìœ¼ë¡œ í•©ê³„ ê³„ì‚°
        int sum = 0;
        for (Integer i : numbers) {
            sum += i;  // ëˆ„ì  í•©ê³„
        }
        System.out.println("ì „í†µì  ë°©ì‹ í•©ê³„: " + sum);
        
        // Stream reduceë¡œ í•©ê³„ ê³„ì‚°
        System.out.println("Stream reduce í•©ê³„: " + 
            numbers.stream().reduce(
                0,                    // ì´ˆê¸°ê°’
                (cur, acc) -> cur + acc  // ëŒë‹¤ì‹: í˜„ì¬ê°’ê³¼ ëˆ„ì ê°’ì„ ë”í•¨
            ));
        
        // reduceë¡œ ê³±ì…ˆ ê³„ì‚°
        System.out.println("Stream reduce ê³±ì…ˆ: " + 
            numbers.stream().reduce(
                1,                    // ê³±ì…ˆì˜ ì´ˆê¸°ê°’ì€ 1
                (cur, acc) -> cur * acc  // í˜„ì¬ê°’ê³¼ ëˆ„ì ê°’ì„ ê³±í•¨
            ));
        
        // ëŒë‹¤ì‹ ì„¤ëª…:
        // (cur, acc) -> cur + acc
        // ë§¤ê°œë³€ìˆ˜    ë°˜í™˜ê°’
        // cur: ìŠ¤íŠ¸ë¦¼ì˜ ê° ìš”ì†Œ
        // acc: ì§€ê¸ˆê¹Œì§€ ê³„ì‚°ëœ ëˆ„ì ê°’
    }
}
```

### 4. ì™„ì „í•œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì´ë¯¸ì§€ ìƒì„±ê¸°

```java
package step2;

import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Base64;
import java.util.Scanner;
import java.util.stream.IntStream;  // ì •ìˆ˜ ìŠ¤íŠ¸ë¦¼

public class ImageGenStreamClean {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int size = 3;  // ì…ë ¥ë°›ì„ ê°œìˆ˜
        
        // HTTP í´ë¼ì´ì–¸íŠ¸ì™€ í…œí”Œë¦¿ë“¤
        HttpClient httpClient = HttpClient.newHttpClient();
        String urlTemplate = "https://generativelanguage.googleapis.com/v1beta/models/%s:generateContent";
        
        // í”„ë¡¬í”„íŠ¸ ìƒì„±ìš© JSON í…œí”Œë¦¿
        String promptTemplate = """
        {
            "contents": [
              {
                "parts": [
                  {
                    "text": "%s(ì„)ë¥¼ ì´ë¯¸ì§€ë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ 200ì ì´ë‚´ì˜ ìƒì„¸í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•´ì¤˜. ê²°ê³¼ë§Œ ì‘ì„±í•´ì¤˜."
                  }
                ]
              }
            ]
          }
        """;
        
        // ì´ë¯¸ì§€ ìƒì„±ìš© JSON í…œí”Œë¦¿
        String imageTemplate = """
        {
            "contents": [
              {
                "role": "user",
                "parts": [
                  {
                    "text": "%s"
                  }
                ]
              }
            ],
            "generationConfig": {
              "responseModalities": ["IMAGE", "TEXT"]
            }
        }
        """;
        
        // Stream APIë¥¼ ì´ìš©í•œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì²´ì¸
        IntStream
            .range(0, size)  // 0ë¶€í„° size-1ê¹Œì§€ì˜ ì •ìˆ˜ ìŠ¤íŠ¸ë¦¼ ìƒì„±
            .boxed()         // int â†’ Integerë¡œ Boxing (ê°ì²´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜)
            .map(x -> {      // ê° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ ë³€í™˜
                System.out.print("ì¢‹ì•„í•˜ëŠ” ìºë¦­í„°ëŠ”? : ");
                return sc.nextLine();
            })
            .map(x -> {      // ê° ì…ë ¥ì„ í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜
                try {
                    HttpResponse<String> response = httpClient.send(
                        HttpRequest.newBuilder()
                            .uri(URI.create(urlTemplate.formatted("gemini-2.0-flash")))
                            .headers("Content-Type", "application/json",
                                   "X-goog-api-key", System.getenv("GEMINI_API_KEY"))
                            .POST(HttpRequest.BodyPublishers.ofString(
                                promptTemplate.formatted(x)))
                            .build(),
                        HttpResponse.BodyHandlers.ofString());
                    return response.body();
                } catch (Exception ex) {
                    System.err.println(ex.getMessage());
                    return null;
                }
            })
            .filter(x -> x != null)  // null ê°’ ì œê±° (ì—ëŸ¬ ë°œìƒí•œ ê²½ìš° ì œì™¸)
            .map(x -> x.split("\"text\": \"")[1]  // JSONì—ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
                      .split("}")[0]
                      .replace("\\n", "")
                      .replace("\"", "")
                      .trim())
            .map(x -> {      // í”„ë¡¬í”„íŠ¸ë¥¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜
                try {
                    HttpResponse<String> response = httpClient.send(
                        HttpRequest.newBuilder()
                            .uri(URI.create(urlTemplate.formatted(
                                "gemini-2.0-flash-preview-image-generation")))
                            .headers("Content-Type", "application/json",
                                   "X-goog-api-key", System.getenv("GEMINI_API_KEY"))
                            .POST(HttpRequest.BodyPublishers.ofString(
                                imageTemplate.formatted(x)))
                            .build(),
                        HttpResponse.BodyHandlers.ofString());
                    return response.body();
                } catch (Exception ex) {
                    System.err.println(ex.getMessage());
                    return null;
                }
            })
            .filter(x -> x != null)  // null ê°’ ì œê±°
            .map(x -> x.split("\"data\": \"")[1]  // Base64 ì´ë¯¸ì§€ ë°ì´í„° ì¶”ì¶œ
                      .split("}")[0]
                      .replace("\\n", "")
                      .replace("\"", "")
                      .trim())
            .forEach(ImageGenStreamClean::handleImage);  // ê° ì´ë¯¸ì§€ ì €ì¥
        
        System.out.println("ëª¨ë“  ì´ë¯¸ì§€ ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
    }
    
    // Base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ë©”ì„œë“œ
    static void handleImage(String base64) {
        try {
            // Base64 ë””ì½”ë”©
            byte[] imageBytes = Base64.getDecoder().decode(base64);
            
            // í˜„ì¬ ì‹œê°„ì„ ë°€ë¦¬ì´ˆë¡œ ì‚¬ìš©í•˜ì—¬ ê³ ìœ í•œ íŒŒì¼ëª… ìƒì„±
            String outputPath = "%s.png".formatted(System.currentTimeMillis());
            Path filePath = Paths.get(outputPath);
            
            // ë°”ì´íŠ¸ ë°°ì—´ì„ íŒŒì¼ë¡œ ì €ì¥
            Files.write(filePath, imageBytes);
            System.out.println("ì´ë¯¸ì§€ ì €ì¥ ì™„ë£Œ: " + outputPath);
        } catch (Exception e) {
            System.err.println("ì´ë¯¸ì§€ ì €ì¥ ì‹¤íŒ¨: " + e.getMessage());
        }
    }
}
```

## ìë£Œêµ¬ì¡° ë¹„êµí‘œ

| íŠ¹ì§• | Array | ArrayList | HashMap |
|------|-------|-----------|---------|
| **í¬ê¸°** | ê³ ì • | ë™ì  | ë™ì  |
| **íƒ€ì… ì•ˆì „ì„±** | ì œë„¤ë¦­ ë¶ˆê°€ | ì œë„¤ë¦­ ê°€ëŠ¥ | ì œë„¤ë¦­ ê°€ëŠ¥ |
| **ì ‘ê·¼ ë°©ì‹** | ì¸ë±ìŠ¤ | ì¸ë±ìŠ¤ | í‚¤-ê°’ |
| **ê²€ìƒ‰ ì†ë„** | O(n) | O(n) | O(1) í‰ê·  |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰** | ìµœì†Œ | ì¤‘ê°„ | ë§ìŒ |
| **ìºì‹œ ì¹œí™”ì ** | ë†’ìŒ | ë†’ìŒ | ë‚®ìŒ |

## Stream API vs ì „í†µì  ë°©ì‹

```mermaid
graph TD
    A[ë°ì´í„° ì²˜ë¦¬ ë°©ì‹] --> B[ì „í†µì  ë°©ì‹]
    A --> C[Stream API]
    
    B --> B1[for/while ë£¨í”„]
    B --> B2[ì¡°ê±´ë¬¸ ì¤‘ì²©]
    B --> B3[ì„ì‹œ ë³€ìˆ˜ ë§ìŒ]
    B --> B4[Side Effect ìœ„í—˜]
    
    C --> C1[í•¨ìˆ˜í˜• ì²´ì´ë‹]
    C --> C2[ë¶ˆë³€ì„± ë³´ì¥]  
    C --> C3[ê°€ë…ì„± í–¥ìƒ]
    C --> C4[ë³‘ë ¬ ì²˜ë¦¬ ì§€ì›]
    
    style B fill:#ffebee
    style C fill:#e8f5e8
```

### ì „í†µì  ë°©ì‹ì˜ íŠ¹ì§•
- **ì¥ì **: ì§ê´€ì ì´ê³  ì´í•´í•˜ê¸° ì‰¬ì›€, ë””ë²„ê¹… ìš©ì´
- **ë‹¨ì **: ì½”ë“œê°€ ê¸¸ì–´ì§, Side Effect ë°œìƒ ê°€ëŠ¥, ì‹¤ìˆ˜í•˜ê¸° ì‰¬ì›€

### Stream APIì˜ íŠ¹ì§•  
- **ì¥ì **: ê°„ê²°í•œ ì½”ë“œ, í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°, ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥
- **ë‹¨ì **: í•™ìŠµ ê³¡ì„ , ë””ë²„ê¹… ì–´ë ¤ì›€, ë‹¨ìˆœí•œ ì‘ì—…ì—ëŠ” ì˜¤ë²„í—¤ë“œ

---

## í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ ë¹„êµ

### 1. ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë° (Imperative)
```java
// "ì–´ë–»ê²Œ(How)" í• ì§€ë¥¼ ë‹¨ê³„ë³„ë¡œ ëª…ì‹œ
List<Integer> result = new ArrayList<>();
for (int i = 0; i < numbers.size(); i++) {
    int value = numbers.get(i);
    if (value > 5) {
        result.add(value * 2);
    }
}
```

### 2. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° (Functional)
```java
// "ë¬´ì—‡ì„(What)" í• ì§€ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ëª…ì‹œ
List<Integer> result = numbers.stream()
    .filter(x -> x > 5)      // 5ë³´ë‹¤ í° ê°’ë§Œ
    .map(x -> x * 2)         // ê°ê° 2ë°°ë¡œ
    .toList();               // ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
```

---

## HTTP API í†µì‹  íë¦„

```mermaid
sequenceDiagram
    participant App as Java ì•±
    participant Client as HttpClient
    participant API as Gemini API
    
    App->>Client: HttpRequest ìƒì„±
    Client->>API: HTTP POST ìš”ì²­
    Note over API: AI ëª¨ë¸ ì²˜ë¦¬
    API->>Client: JSON ì‘ë‹µ
    Client->>App: HttpResponse ë°˜í™˜
    App->>App: JSON íŒŒì‹±
    App->>App: ê²°ê³¼ ì²˜ë¦¬
```

### API í†µì‹ ì˜ í•µì‹¬ ê°œë…

1. **HTTP ë©”ì„œë“œ**
   - GET: ë°ì´í„° ì¡°íšŒ
   - POST: ë°ì´í„° ìƒì„±/ì „ì†¡
   - PUT: ë°ì´í„° ìˆ˜ì •
   - DELETE: ë°ì´í„° ì‚­ì œ

2. **ìš”ì²­ êµ¬ì„± ìš”ì†Œ**
   - URL: ìš”ì²­ ì£¼ì†Œ
   - Headers: ë©”íƒ€ë°ì´í„° (Content-Type, ì¸ì¦ ë“±)
   - Body: ì‹¤ì œ ì „ì†¡ ë°ì´í„°

3. **ì‘ë‹µ ì²˜ë¦¬**
   - Status Code: ìš”ì²­ ì²˜ë¦¬ ê²°ê³¼ (200=ì„±ê³µ, 404=ì—†ìŒ, 500=ì„œë²„ì˜¤ë¥˜)
   - Response Body: ì‹¤ì œ ë°ì´í„°
   - Headers: ì‘ë‹µ ë©”íƒ€ë°ì´í„°

---

## ì˜ˆì™¸ ì²˜ë¦¬ (Exception Handling)

### try-catch-finally êµ¬ì¡°

```java
try {
    // ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì½”ë“œ
    int result = 10 / 0;  // ArithmeticException ë°œìƒ
} catch (ArithmeticException e) {
    // íŠ¹ì • ì˜ˆì™¸ ì²˜ë¦¬
    System.err.println("0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + e.getMessage());
} catch (Exception e) {
    // ëª¨ë“  ì˜ˆì™¸ ì²˜ë¦¬ (ìƒìœ„ í´ë˜ìŠ¤)
    System.err.println("ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: " + e.getMessage());
} finally {
    // ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ í•­ìƒ ì‹¤í–‰
    System.out.println("ì •ë¦¬ ì‘ì—… ìˆ˜í–‰");
}
```

### throws vs throw

```java
// throws: ë©”ì„œë“œê°€ ë˜ì§ˆ ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë¥¼ ì„ ì–¸
public void methodA() throws IOException {
    // IOExceptionì„ ë˜ì§ˆ ìˆ˜ ìˆìŒì„ ì„ ì–¸
}

// throw: ì‹¤ì œë¡œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚´
public void methodB() {
    throw new IllegalArgumentException("ì˜ëª»ëœ ì¸ìì…ë‹ˆë‹¤");
}
```

---

## ë©”ëª¨ë¦¬ ê´€ë¦¬ì™€ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜

```mermaid
graph TD
    A[Java ë©”ëª¨ë¦¬ ì˜ì—­] --> B[Heap ì˜ì—­]
    A --> C[Stack ì˜ì—­]
    A --> D[Method ì˜ì—­]
    
    B --> B1[Young Generation]
    B --> B2[Old Generation]
    
    B1 --> B11[Eden]
    B1 --> B12[Survivor S0]
    B1 --> B13[Survivor S1]
    
    C --> C1[ì§€ì—­ë³€ìˆ˜]
    C --> C2[ë©”ì„œë“œ í˜¸ì¶œ ì •ë³´]
    
    D --> D1[í´ë˜ìŠ¤ ì •ë³´]
    D --> D2[static ë³€ìˆ˜]
    D --> D3[ìƒìˆ˜]
    
    style B fill:#e3f2fd
    style C fill:#f3e5f5
    style D fill:#fff3e0
```

### ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ê³¼ì •
1. **Eden ì˜ì—­**ì— ìƒˆ ê°ì²´ ìƒì„±
2. Eden ê°€ë“ ì°° ë•Œ **Minor GC** ë°œìƒ
3. ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” **Survivor** ì˜ì—­ìœ¼ë¡œ ì´ë™
4. ì—¬ëŸ¬ ë²ˆ ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” **Old Generation**ìœ¼ë¡œ ìŠ¹ê²©
5. Old ì˜ì—­ ê°€ë“ ì°° ë•Œ **Major GC** ë°œìƒ

---

## ì°¸ê³ ìë£Œ

### ğŸ“š Java í•™ìŠµ ë¦¬ì†ŒìŠ¤
- [Programiz Java Tutorial](https://www.programiz.com/java-programming)
- [GeeksforGeeks Java](https://www.geeksforgeeks.org/java/)
- [Baeldung Java Series](https://www.baeldung.com/get-started-with-java-series)
- [Codecademy Java](https://www.codecademy.com/catalog/language/java)

### ğŸ”§ ê°œë°œ ë„êµ¬
- [DeepL ë²ˆì—­ê¸°](https://www.deepl.com/ko/translator)
- [Emojipedia](https://emojipedia.org/)
- [Google AI Studio](https://aistudio.google.com/)

### ğŸŒ API ë¬¸ì„œ
- [Google Generative AI](https://github.com/googleapis/java-genai)
- [Maven Repository](https://mvnrepository.com/artifact/com.google.genai/google-genai)

### ğŸ“ í”„ë¡œì íŠ¸ ì €ì¥ì†Œ
- [Calculator Project](https://github.com/notlikelion/250805_calculator)
- [Functional Programming Examples](https://github.com/notlikelion/250805_fp)

---

## í•µì‹¬ í¬ì¸íŠ¸ ìš”ì•½

### ğŸ¯ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°
- **ìº¡ìŠí™”**: ë°ì´í„°ì™€ ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ê¸°
- **ìƒì†**: ê¸°ì¡´ í´ë˜ìŠ¤ì˜ íŠ¹ì„±ì„ ë¬¼ë ¤ë°›ê¸°  
- **ë‹¤í˜•ì„±**: ê°™ì€ ë©”ì„œë“œ ë‹¤ë¥¸ êµ¬í˜„
- **ì¶”ìƒí™”**: ë³µì¡í•œ ë‚´ìš© ìˆ¨ê¸°ê³  í•µì‹¬ë§Œ í‘œí˜„

### ğŸš€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°
- **ë¶ˆë³€ì„±**: ë°ì´í„° ë³€ê²½ ëŒ€ì‹  ìƒˆë¡œìš´ ë°ì´í„° ìƒì„±
- **ìˆœìˆ˜ í•¨ìˆ˜**: Side Effect ì—†ëŠ” í•¨ìˆ˜
- **ê³ ì°¨ í•¨ìˆ˜**: í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë‚˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©
- **ì²´ì´ë‹**: ì—¬ëŸ¬ ì—°ì‚°ì„ ì—°ê²°í•˜ì—¬ ì²˜ë¦¬

### ğŸ’¡ ì‹¤ë¬´ íŒ
- ì ì ˆí•œ ìë£Œêµ¬ì¡° ì„ íƒì´ ì„±ëŠ¥ì— í° ì˜í–¥
- ì˜ˆì™¸ ì²˜ë¦¬ë¡œ ì•ˆì •ì ì¸ í”„ë¡œê·¸ë¨ ì‘ì„±
- API í†µì‹  ì‹œ ì—ëŸ¬ ì²˜ë¦¬ í•„ìˆ˜
- í•¨ìˆ˜í˜•ê³¼ ëª…ë ¹í˜•ì„ ìƒí™©ì— ë§ê²Œ ì„ íƒ

---

**ğŸ¦ ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ê³¼ í•¨ê»˜ Java ë§ˆìŠ¤í„°ê°€ ë˜ì–´ë³´ì„¸ìš”!**
